<!DOCTYPE html>
<script src="http://d3js.org/d3.v4.min.js"></script>
<style>
.chart rect { fill: steelblue; }
#tooltip {
    opacity: 0;
    position: absolute; 
    text-align: center;
    width: 60px; height: 40px; 
    background: white;
    border: 0px;
 }
</style>

<html><body>
  <p>Here are the magic numbers from Lost: <span id="data"></span></p>

  <svg class="chart"></svg>

  <div id="tooltip"></div>

  <script>
    // const data = await d3.csv('https://iniguezisabella.github.io/data/meta_sales.csv');

    // var width = 300;
    // var height = 300;
    // var margin = 50;

    // var x = d3.scaleBand().domain([0,100]).range([0,height])
    // var y = d3.scaleLinear().domain([0,1300]).range([height,0])

    // var xaxis = d3.axisBottom(x).tickValues([0,25,50,100]).tickFormat(d3.format("~s"));
    // var yaxis = d3.axisLeft(y).tickValues([100,500,1000,1300]).tickFormat(d3.format("~s"));

    // d3.select("svg")
    // .attr("width", width)
    // .attr("height", height)
    // .append("g")
    //   .attr("transform", "translate("+margin+","+margin+")")
    // .selectAll('circle').data(data).enter().append('circle')
    // .attr("cx",function(d) {return x(d.metacritic);})
    // .attr("cy",function(d) {return y(d.Global_Sales);})
    // .attr("r", 10)
    // .style("fill", "black")

    // d3.select("svg").append("g")
    // .attr("transform", "translate("+margin+","+margin+")")
    // .call(yaxis);

    // d3.select("svg").append("g")
    // .attr("transform", "translate("+margin+","+(height+margin)+")")
    // .call(xaxis)

    var width = 120, height = 300;

    var data = [4,8,15,16,23,42];
    document.getElementById("data").innerHTML = data;

    var x = d3.scaleLinear().domain([0,6]).range([0,width]);
    var y = d3.scaleLinear().domain([0,42]).range([height,0]);

    var tooltip = d3.select("#tooltip");
    
    d3.select(".chart")
        .attr("width", width)
        .attr("height", height)
        .selectAll("rect")
        .data(data)
        .enter().append("rect")
        .attr("width",19)
        .attr("height", function(d) { return height - y(d); })
        .attr("x", function(d,i) { return x(i); })
        .attr("y", function(d) { return y(d); })
        .on("mouseover", function(d,i) { 
            let pos = d3.mouse(this);
            tooltip.style("opacity", 1)
            .style("left", pos[0] +"px")
            .style("top", pos[1] +"px")
            .html("Item #" + i + " is " + d); 
        })
        .on("mouseout", function() { tooltip.style("opacity", 0) })
	</script>
</body></html>