<!-- <html>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <body onload='init()'>
        <svg width="300" height="300"></svg>
        <script>
            async function init(){
                const data = await d3.csv('https://flunky.github.io/cars2017.csv');

                var width = 300;
                var height = 300;
                var margin = 50;

                var x = d3.scaleLog().base(10).domain([10,150]).range([0,200]); 
                var y = d3.scaleLog().base(10).domain([10,150]).range([200,0]);

                var xaxis = d3.axisBottom(x).tickValues([10,20,50,100]).tickFormat(d3.format("~s"));
                var yaxis = d3.axisLeft(y).tickValues([10,20,50,100]).tickFormat(d3.format("~s"));

                d3.select("svg")
                .attr("width", width)
                .attr("height", height)
                .append("g")
                .attr("transform", "translate("+margin+","+margin+")")
                .selectAll('circle').data(data).enter().append('circle')
                .attr("cx",function(d) {return x(d.AverageCityMPG);})
                .attr("cy",function(d) {return y(d.AverageHighwayMPG);})
                .attr("r", function(d) {return 2+1*d.EngineCylinders;})

                d3.select("svg").append("g")
                .attr("transform", "translate("+margin+","+margin+")")
                .call(yaxis);

                d3.select("svg").append("g")
                .attr("transform", "translate("+margin+","+(200+margin)+")")
                .call(xaxis);
            }
        </script>
    </body>
</html> -->

<html>
    <script src="https://d3js.org/d3.v6.min.js"></script>
    <body onload='init()'>
        <svg width="300" height="300"></svg>
    <!-- <script src="test2.js"></script> -->
        <script>
            async function init(){
                const data = await d3.csv('https://iniguezisabella.github.io/data/sales.csv');

                var width = 600; // changed to 400
                var height = 200;
                var x = d3.scaleBand()
                .domain(data.map(d => d.Genre))// .domain(['Action', 'Adventure', 'Fighting', 'Misc', 'Platform', 'Puzzle', 'Racing', 'Role-Playing', 'Shooter', 'Simulation', 'Sports','Strategy'])
                .range([0, width])
                .padding(0.2);

                var y = d3.scaleLinear().domain([0,1800]).range([height,0])
                var margin = 50;

                d3.select("svg")
                .attr("width", width + 2*margin)
                .attr("height", height + 2*margin)
                .append("g")
                .attr("transform", "translate("+margin+","+margin+")")
                .selectAll('rect').data(data).enter().append('rect') //bars
                .attr("x",function(d,i) {return x(d.Genre);}) // {return x(i);})
                .attr("y",function(d,i) {return y(d.Global_Sales);}) // {return y(d);})
                .attr('width', x.bandwidth())
                .attr('height',function(d,i) {return height - y(d.Global_Sales);})
                .attr("fill", "#69b3a2")

                d3.select("svg").append("g")
                .attr("transform", "translate("+margin+","+margin+")")
                .call(d3.axisLeft(y));

                d3.select("svg").append("g")
                .attr("transform", "translate("+margin+","+(height+margin)+")")
                .call(d3.axisBottom(x)) //;
                .style("text-anchor", "end")
                .attr("dx", "-.8em")
                .attr("dy", ".15em")
                .attr("transform", "rotate(65)");
            }
        </script>
    </body>
</html>